
# 编译上机（二）词法分析

## 实验目的
对循环语句和条件判断语句编写词法分析编译程序，只能通过一遍扫描完成。
## 实验要求
* 关键字：所有关键字都是小写。
    
    for    if    then  else  while    do    until    int    input    output

* 运算符和分隔符：
    
    ：  =   +   -   *    /   <    >   <=   <>    >=    ;    (  )   #

* 其他标识符（ID）和整型常数（NUM），通过以下模式定义：

    ID=letter(letter | digit)*
    NUM=digit digit*

* 空格由空白、制表符和换行符组成。空格一般用来分隔ID、NUM、运算符、分隔符和关键字，词法分析阶段通常被忽略。

## 各种词法单元对应的词法记号如下
|   词法单元  | 记号 |  词法单元 | 记号 |
| ---------- | --- |---------- | --- |
| for |  1 |: |  17 |
| if |  2 |  := |  18 |
| then |  3 |  < |  20 |
| else |  4 |  <> |  21 |
| while |  5 |  <= |  22 |
| do |  6 |  > |  23 |
| letter(letter+digit)* |  10 |  >= |  24 |
| digit digit* |  11 |  = |  25 |
| + |  13 |  ; |  26|
| - |  14 |  ( |  27 |
| * |  15 |  ) |  28 |
| / |  16 |  # |  0 |
| until |  29 |  int |  30 |
| input |  31 |  output |  32 |

## 词法分析程序的功能
输入：源程序
输出：二元组（词法记号,属性值/其在符号表中的位置）构成的序列。

    例如：对源程序
    int x:=5;  if (x>0)  then  x:=2*x+1/3;  else  x:=2/x;  #
    经词法分析后输出如下序列：
    （30, int）（10,’x’）(18, :=) (11,5) (26, ;) (2, if )  (27,( )……

## 几点说明：
* 关键字表的初值。

    关键字作为特殊标识符处理，把它们预先安排在一张表格中（称为关键字表），当扫描程序识别出标识符，查关键字表。如能查到匹配的单词，则该单词的关键字，否则为一般标识符。关键表为一个字符串数组，其描述如下：
    char *keyword[8]={”for”, ”if”, ”then” ,”else”，”while”, ”do”, “until”, “int” };

* 程序中需要用到的主要变量为 token , id和num.

    1）id用来存放构成词法单元的字符串；
    
    2）num用来存放整数（可以扩展到浮点数和科学计数法表示；
    
    3）token用来存放词法单元的词法记号。
